Starting build process...
Adding env variables...
Running the playbook...
ansible-playbook 2.9.23
  config file = /etc/ansible/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/dist-packages/ansible
  executable location = /usr/bin/ansible-playbook
  python version = 2.7.17 (default, Feb 27 2021, 15:10:58) [GCC 7.5.0]
Using /etc/ansible/ansible.cfg as config file
Skipping callback 'actionable', as we already have a stdout callback.
Skipping callback 'counter_enabled', as we already have a stdout callback.
Skipping callback 'debug', as we already have a stdout callback.
Skipping callback 'dense', as we already have a stdout callback.
Skipping callback 'dense', as we already have a stdout callback.
Skipping callback 'full_skip', as we already have a stdout callback.
Skipping callback 'json', as we already have a stdout callback.
Skipping callback 'minimal', as we already have a stdout callback.
Skipping callback 'null', as we already have a stdout callback.
Skipping callback 'oneline', as we already have a stdout callback.
Skipping callback 'selective', as we already have a stdout callback.
Skipping callback 'skippy', as we already have a stdout callback.
Skipping callback 'stderr', as we already have a stdout callback.
Skipping callback 'unixy', as we already have a stdout callback.
Skipping callback 'yaml', as we already have a stdout callback.

PLAYBOOK: site.yaml ************************************************************
16 plays in /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/site.yaml

PLAY [all] *********************************************************************
META: ran handlers
META: ran handlers
META: ran handlers

PLAY [ansible_provisioners] ****************************************************

TASK [Gathering Facts] *********************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/environment-setup.yaml:7
ok: [localhost]
META: ran handlers

TASK [include_role : setup/kubectl] ********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/environment-setup.yaml:11

TASK [setup/kubectl : register temporary directory] ****************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.0m764vav", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/kubectl : check kubectl] *******************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"atime": 1625732109.5056047, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 83904, "charset": "binary", "checksum": "95a29cd56f71a4f203d6c046db30c1bf7901243c", "ctime": 1625108802.4918783, "dev": 64513, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 2061585, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "application/x-executable", "mode": "0755", "mtime": 1594831817.0, "nlink": 1, "path": "/root/bin/kubectl", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 42958848, "uid": 0, "version": "174362294", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [setup/kubectl : Download kubectl binary] *********************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : Unarchive kubernetes-client] *****************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:25
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : create bin directory] ************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:33
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : Copy kubectl binary to destination directory] ************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:41
skipping: [localhost] => (item=kubectl)  => {"ansible_loop_var": "bin_item", "bin_item": "kubectl", "changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/kubectl : Test kubectl installation] *******************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:55
ok: [localhost] => {"changed": false, "cmd": ["kubectl", "version", "--client", "--short"], "delta": "0:00:00.135419", "end": "2021-07-08 23:54:05.998780", "rc": 0, "start": "2021-07-08 23:54:05.863361", "stderr": "", "stderr_lines": [], "stdout": "Client Version: v1.16.13", "stdout_lines": ["Client Version: v1.16.13"]}

TASK [setup/kubectl : Changing the current context namespace to default] *******
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:61
changed: [localhost] => {"changed": true, "cmd": "KUBECONFIG=/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/config kubectl config set-context --current --namespace=default\n", "delta": "0:00:00.105454", "end": "2021-07-08 23:54:06.411626", "rc": 0, "start": "2021-07-08 23:54:06.306172", "stderr": "", "stderr_lines": [], "stdout": "Context \"kubernetes-admin@kubernetes\" modified.", "stdout_lines": ["Context \"kubernetes-admin@kubernetes\" modified."]}

TASK [include_role : setup/helm] ***********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/environment-setup.yaml:21

TASK [setup/helm : register temporary directory] *******************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.hq64y6ad", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/helm : check helm] *************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"atime": 1625732111.9615624, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 78864, "charset": "binary", "checksum": "9fb983829678b1159f74420b5007fbb5e13b3e6f", "ctime": 1625108947.8362136, "dev": 64513, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 2061577, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "application/x-executable", "mode": "0755", "mtime": 1625108947.456213, "nlink": 1, "path": "/root/bin/helm", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 40378368, "uid": 0, "version": "2384026581", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [setup/helm : Install helm] ***********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Unzip helm archive] *****************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:27
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:37
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Move helm binaries] *****************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:47
skipping: [localhost] => (item=helm)  => {"ansible_loop_var": "bin_item", "bin_item": "helm", "changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Test helm installation] *************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:58
ok: [localhost] => {"changed": false, "cmd": ["helm", "version", "--client", "--short"], "delta": "0:00:00.072877", "end": "2021-07-08 23:54:07.872007", "rc": 0, "start": "2021-07-08 23:54:07.799130", "stderr": "", "stderr_lines": [], "stdout": "v3.2.4+g0ad800e", "stdout_lines": ["v3.2.4+g0ad800e"]}

TASK [include_role : setup/vault] **********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/environment-setup.yaml:31

TASK [setup/vault : register temporary directory] ******************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.purvcqzd", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/vault : check vault] ***********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"atime": 1625732113.8655298, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 384304, "charset": "binary", "checksum": "d60b0419118e38b4b95d94f95e01c9a87aa8a7da", "ctime": 1625108994.86431, "dev": 64513, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 2061611, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "application/x-executable", "mode": "0755", "mtime": 1616556477.0, "nlink": 1, "path": "/root/bin/vault", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 196759170, "uid": 0, "version": "3819042894", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [setup/vault : Install vault client] **************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/vault : create bin directory] **************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:26
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/vault : Unzip vault archive] ***************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:34
skipping: [localhost] => (item=vault)  => {"ansible_loop_var": "bin_item", "bin_item": "vault", "changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/vault : Test vault installation] ***********************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/vault/tasks/main.yaml:46
ok: [localhost] => {"changed": false, "cmd": ["vault", "version"], "delta": "0:00:00.141418", "end": "2021-07-08 23:54:09.635848", "rc": 0, "start": "2021-07-08 23:54:09.494430", "stderr": "", "stderr_lines": [], "stdout": "Vault v1.7.0 (4e222b85c40a810b74400ee3c54449479e32bb9f)", "stdout_lines": ["Vault v1.7.0 (4e222b85c40a810b74400ee3c54449479e32bb9f)"]}

TASK [include_role : setup/aws-cli] ********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/environment-setup.yaml:41
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.org1.example.com:7054', u'certificate': u'/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/org1.crt'}, u'gitops': {u'username': u'hungphamqs94', u'private_key': u'/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/gitops', u'git_protocol': u'https', u'chart_source': u'platforms/hyperledger-fabric/charts', u'git_url': u'https://github.com/hungphamqs94/blockchain-automation-framework.git', u'branch': u'main', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'password': u'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', u'email': u'cogangsekhongthua1994@gmail.com', u'git_repo': u'github.com/hungphamqs94/blockchain-automation-framework.git'}, u'cloud_provider': u'minikube', u'name': u'Org1', u'country': u'UK', u'org_status': u'new', u'external_url_suffix': u'org1.example.com', u'state': u'London', u'location': u'London', u'vault': {u'url': u'http://45.32.124.125:8200', u'root_token': u's.VQsR0ahXDL7CmiYcYf0k0wXe', u'secret_path': u'my-secrets'}, u'services': {u'consensus': {u'grpc': {u'port': 9092}, u'type': u'broker', u'name': u'kafka', u'replicas': 4}, u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=US/ST=New York/L=New York/O=Store/CN=ca.store-net'}, u'orderers': [{u'consensus': u'kafka', u'grpc': {u'port': 7050}, u'orderer': None, u'type': u'orderer', u'name': u'orderer1'}, {u'consensus': u'raft', u'grpc': {u'port': 7050}, u'orderer': None, u'type': u'orderer', u'name': u'orderer2'}]}, u'organization': None, u'k8s': {u'config_file': u'/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/config', u'context': u'kubernetes-admin@kubernetes'}, u'type': u'orderer', u'subject': u'O=Orderer,L=51.50/-0.13/London,C=GB'})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/org1.crt", "url": "ca.org1.example.com:7054"}, "cloud_provider": "minikube", "country": "UK", "external_url_suffix": "org1.example.com", "gitops": {"branch": "main", "chart_source": "platforms/hyperledger-fabric/charts", "email": "cogangsekhongthua1994@gmail.com", "git_protocol": "https", "git_repo": "github.com/hungphamqs94/blockchain-automation-framework.git", "git_url": "https://github.com/hungphamqs94/blockchain-automation-framework.git", "password": "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", "private_key": "/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "hungphamqs94"}, "k8s": {"config_file": "/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/config", "context": "kubernetes-admin@kubernetes"}, "location": "London", "name": "Org1", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=US/ST=New York/L=New York/O=Store/CN=ca.store-net", "type": "ca"}, "consensus": {"grpc": {"port": 9092}, "name": "kafka", "replicas": 4, "type": "broker"}, "orderers": [{"consensus": "kafka", "grpc": {"port": 7050}, "name": "orderer1", "orderer": null, "type": "orderer"}, {"consensus": "raft", "grpc": {"port": 7050}, "name": "orderer2", "orderer": null, "type": "orderer"}]}, "state": "London", "subject": "O=Orderer,L=51.50/-0.13/London,C=GB", "type": "orderer", "vault": {"root_token": "s.VQsR0ahXDL7CmiYcYf0k0wXe", "secret_path": "my-secrets", "url": "http://45.32.124.125:8200"}}, "skip_reason": "Conditional result was False"}

TASK [include_role : setup/aws-auth] *******************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/environment-setup.yaml:50
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.org1.example.com:7054', u'certificate': u'/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/org1.crt'}, u'gitops': {u'username': u'hungphamqs94', u'private_key': u'/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/gitops', u'git_protocol': u'https', u'chart_source': u'platforms/hyperledger-fabric/charts', u'git_url': u'https://github.com/hungphamqs94/blockchain-automation-framework.git', u'branch': u'main', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'password': u'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', u'email': u'cogangsekhongthua1994@gmail.com', u'git_repo': u'github.com/hungphamqs94/blockchain-automation-framework.git'}, u'cloud_provider': u'minikube', u'name': u'Org1', u'country': u'UK', u'org_status': u'new', u'external_url_suffix': u'org1.example.com', u'state': u'London', u'location': u'London', u'vault': {u'url': u'http://45.32.124.125:8200', u'root_token': u's.VQsR0ahXDL7CmiYcYf0k0wXe', u'secret_path': u'my-secrets'}, u'services': {u'consensus': {u'grpc': {u'port': 9092}, u'type': u'broker', u'name': u'kafka', u'replicas': 4}, u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=US/ST=New York/L=New York/O=Store/CN=ca.store-net'}, u'orderers': [{u'consensus': u'kafka', u'grpc': {u'port': 7050}, u'orderer': None, u'type': u'orderer', u'name': u'orderer1'}, {u'consensus': u'raft', u'grpc': {u'port': 7050}, u'orderer': None, u'type': u'orderer', u'name': u'orderer2'}]}, u'organization': None, u'k8s': {u'config_file': u'/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/config', u'context': u'kubernetes-admin@kubernetes'}, u'type': u'orderer', u'subject': u'O=Orderer,L=51.50/-0.13/London,C=GB'})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/org1.crt", "url": "ca.org1.example.com:7054"}, "cloud_provider": "minikube", "country": "UK", "external_url_suffix": "org1.example.com", "gitops": {"branch": "main", "chart_source": "platforms/hyperledger-fabric/charts", "email": "cogangsekhongthua1994@gmail.com", "git_protocol": "https", "git_repo": "github.com/hungphamqs94/blockchain-automation-framework.git", "git_url": "https://github.com/hungphamqs94/blockchain-automation-framework.git", "password": "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", "private_key": "/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "hungphamqs94"}, "k8s": {"config_file": "/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/config", "context": "kubernetes-admin@kubernetes"}, "location": "London", "name": "Org1", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=US/ST=New York/L=New York/O=Store/CN=ca.store-net", "type": "ca"}, "consensus": {"grpc": {"port": 9092}, "name": "kafka", "replicas": 4, "type": "broker"}, "orderers": [{"consensus": "kafka", "grpc": {"port": 7050}, "name": "orderer1", "orderer": null, "type": "orderer"}, {"consensus": "raft", "grpc": {"port": 7050}, "name": "orderer2", "orderer": null, "type": "orderer"}]}, "state": "London", "subject": "O=Orderer,L=51.50/-0.13/London,C=GB", "type": "orderer", "vault": {"root_token": "s.VQsR0ahXDL7CmiYcYf0k0wXe", "secret_path": "my-secrets", "url": "http://45.32.124.125:8200"}}, "skip_reason": "Conditional result was False"}
META: ran handlers
META: ran handlers

PLAY [ansible_provisioners] ****************************************************
META: ran handlers

TASK [include_role : setup/flux] ***********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/kubernetes-env-setup.yaml:12

TASK [aws-cli : register temporary directory] **********************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:2
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : check aws cli] *************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:9
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : download aws cli] **********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : extract aws cli] ***********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:25
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:34
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : install aws cli] ***********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:44
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : configuring aws] ***********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:52
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : register temporary directory] *********************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:2
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check aws-authenticator] *************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:9
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-auth : create bin directory] *****************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Install aws-authenticator] ***********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:24
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [helm : register temporary directory] *************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.cptnqw_5", "size": 4096, "state": "directory", "uid": 0}

TASK [check helm] **************************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"atime": 1625732111.9615624, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 78864, "charset": "binary", "checksum": "9fb983829678b1159f74420b5007fbb5e13b3e6f", "ctime": 1625108947.8362136, "dev": 64513, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 2061577, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "application/x-executable", "mode": "0755", "mtime": 1625108947.456213, "nlink": 1, "path": "/root/bin/helm", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 40378368, "uid": 0, "version": "2384026581", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [Install helm] ************************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Unzip helm archive] ******************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:27
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:37
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Move helm binaries] ******************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:47
skipping: [localhost] => (item=helm)  => {"ansible_loop_var": "bin_item", "bin_item": "helm", "changed": false, "skip_reason": "Conditional result was False"}

TASK [Test helm installation] **************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:58
ok: [localhost] => {"changed": false, "cmd": ["helm", "version", "--client", "--short"], "delta": "0:00:00.091101", "end": "2021-07-08 23:54:12.304040", "rc": 0, "start": "2021-07-08 23:54:12.212939", "stderr": "", "stderr_lines": [], "stdout": "v3.2.4+g0ad800e", "stdout_lines": ["v3.2.4+g0ad800e"]}

TASK [kubectl : register temporary directory] **********************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible.ogvj3x6p", "size": 4096, "state": "directory", "uid": 0}

TASK [check kubectl] ***********************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"atime": 1625732109.5056047, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 83904, "charset": "binary", "checksum": "95a29cd56f71a4f203d6c046db30c1bf7901243c", "ctime": 1625108802.4918783, "dev": 64513, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 2061585, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "application/x-executable", "mode": "0755", "mtime": 1594831817.0, "nlink": 1, "path": "/root/bin/kubectl", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 42958848, "uid": 0, "version": "174362294", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [Download kubectl binary] *************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [kubectl : Unarchive kubernetes-client] ***********************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:25
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [kubectl : create bin directory] ******************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:33
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Copy kubectl binary to destination directory] ****************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:41
skipping: [localhost] => (item=kubectl)  => {"ansible_loop_var": "bin_item", "bin_item": "kubectl", "changed": false, "skip_reason": "Conditional result was False"}

TASK [Test kubectl installation] ***********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:55
ok: [localhost] => {"changed": false, "cmd": ["kubectl", "version", "--client", "--short"], "delta": "0:00:00.102584", "end": "2021-07-08 23:54:13.804533", "rc": 0, "start": "2021-07-08 23:54:13.701949", "stderr": "", "stderr_lines": [], "stdout": "Client Version: v1.16.13", "stdout_lines": ["Client Version: v1.16.13"]}

TASK [kubectl : Changing the current context namespace to default] *************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/kubectl/tasks/main.yaml:61
changed: [localhost] => {"changed": true, "cmd": "KUBECONFIG=/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/config kubectl config set-context --current --namespace=default\n", "delta": "0:00:00.106166", "end": "2021-07-08 23:54:14.245476", "rc": 0, "start": "2021-07-08 23:54:14.139310", "stderr": "", "stderr_lines": [], "stdout": "Context \"kubernetes-admin@kubernetes\" modified.", "stdout_lines": ["Context \"kubernetes-admin@kubernetes\" modified."]}

TASK [setup/flux : Checking if the namespace flux-dev already exists] **********
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:2
ok: [localhost] => {"changed": false, "resources": [{"apiVersion": "v1", "kind": "Namespace", "metadata": {"creationTimestamp": "2021-07-01T03:25:47Z", "labels": {"kubernetes.io/metadata.name": "flux-dev"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:labels": {".": {}, "f:kubernetes.io/metadata.name": {}}}}, "manager": "kubectl", "operation": "Update", "time": "2021-07-01T03:25:47Z"}], "name": "flux-dev", "resourceVersion": "3091", "uid": "cb92f755-052b-4c87-ad8e-18a5fd9836de"}, "spec": {"finalizers": ["kubernetes"]}, "status": {"phase": "Active"}}]}

TASK [setup/flux : Create namespaces  "flux-dev"] ******************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:11
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Check if Flux is running] ***********************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:16
ok: [localhost] => {"changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"creationTimestamp": "2021-07-01T03:25:49Z", "generateName": "flux-dev-5b954dc8fc-", "labels": {"app": "flux", "pod-template-hash": "5b954dc8fc", "release": "flux-dev"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:app": {}, "f:pod-template-hash": {}, "f:release": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"f6bbf263-55d2-4aba-a55e-1cac469e9f54\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:containers": {"k:{\"name\":\"flux\"}": {".": {}, "f:args": {}, "f:env": {".": {}, "k:{\"name\":\"KUBECONFIG\"}": {".": {}, "f:name": {}, "f:value": {}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":3030,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:name": {}, "f:protocol": {}}}, "f:readinessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:initialDelaySeconds": {}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:resources": {".": {}, "f:requests": {".": {}, "f:cpu": {}, "f:memory": {}}}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}, "f:volumeMounts": {".": {}, "k:{\"mountPath\":\"/etc/fluxd/ssh\"}": {".": {}, "f:mountPath": {}, "f:name": {}, "f:readOnly": {}}, "k:{\"mountPath\":\"/root/.kubectl\"}": {".": {}, "f:mountPath": {}, "f:name": {}}, "k:{\"mountPath\":\"/var/fluxd/keygen\"}": {".": {}, "f:mountPath": {}, "f:name": {}}}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:nodeSelector": {".": {}, "f:beta.kubernetes.io/os": {}}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}, "f:volumes": {".": {}, "k:{\"name\":\"git-key\"}": {".": {}, "f:name": {}, "f:secret": {".": {}, "f:defaultMode": {}, "f:secretName": {}}}, "k:{\"name\":\"git-keygen\"}": {".": {}, "f:emptyDir": {".": {}, "f:medium": {}}, "f:name": {}}, "k:{\"name\":\"kubedir\"}": {".": {}, "f:configMap": {".": {}, "f:defaultMode": {}, "f:name": {}}, "f:name": {}}}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2021-07-01T03:25:49Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {".": {}, "k:{\"type\":\"PodScheduled\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:message": {}, "f:reason": {}, "f:status": {}, "f:type": {}}}}}, "manager": "kube-scheduler", "operation": "Update", "time": "2021-07-01T03:25:49Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"10.244.0.63\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2021-07-07T14:25:04Z"}], "name": "flux-dev-5b954dc8fc-bfj9j", "namespace": "flux-dev", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "ReplicaSet", "name": "flux-dev-5b954dc8fc", "uid": "f6bbf263-55d2-4aba-a55e-1cac469e9f54"}], "resourceVersion": "738917", "uid": "4bfed572-780f-4570-999a-1b1e3859f08c"}, "spec": {"containers": [{"args": ["--log-format=fmt", "--ssh-keygen-dir=/var/fluxd/keygen", "--ssh-keygen-format=RFC4716", "--k8s-secret-name=git-auth-dev", "--memcached-hostname=flux-dev-memcached", "--sync-state=git", "--memcached-service=", "--git-url=https://hungphamqs94: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@github.com/hungphamqs94/blockchain-automation-framework.git", "--git-branch=main", "--git-path=platforms/hyperledger-fabric/releases/dev", "--git-readonly=false", "--git-user=Weave Flux", "--git-email=support@weave.works", "--git-verify-signatures=false", "--git-set-author=false", "--git-poll-interval=2m", "--git-timeout=200s", "--sync-interval=2m", "--git-ci-skip=false", "--git-label=sync-dev", "--automation-interval=5m", "--registry-rps=200", "--registry-burst=125", "--registry-trace=false", "--registry-insecure-host=index.docker.io/hyperledgerlabs"], "env": [{"name": "KUBECONFIG", "value": "/root/.kubectl/config"}], "image": "docker.io/fluxcd/flux:1.20.2", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/api/flux/v6/identity.pub", "port": 3030, "scheme": "HTTP"}, "initialDelaySeconds": 30, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 120}, "name": "flux", "ports": [{"containerPort": 3030, "name": "http", "protocol": "TCP"}], "readinessProbe": {"failureThreshold": 3, "httpGet": {"path": "/api/flux/v6/identity.pub", "port": 3030, "scheme": "HTTP"}, "initialDelaySeconds": 30, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 120}, "resources": {"requests": {"cpu": "50m", "memory": "64Mi"}}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/root/.kubectl", "name": "kubedir"}, {"mountPath": "/etc/fluxd/ssh", "name": "git-key", "readOnly": true}, {"mountPath": "/var/fluxd/keygen", "name": "git-keygen"}, {"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "kube-api-access-thdvp", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "nodeName": "worker01", "nodeSelector": {"beta.kubernetes.io/os": "linux"}, "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "flux-dev", "serviceAccountName": "flux-dev", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists", "tolerationSeconds": 300}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists", "tolerationSeconds": 300}], "volumes": [{"configMap": {"defaultMode": 420, "name": "flux-dev-kube-config"}, "name": "kubedir"}, {"name": "git-key", "secret": {"defaultMode": 256, "secretName": "git-auth-dev"}}, {"emptyDir": {"medium": "Memory"}, "name": "git-keygen"}, {"name": "kube-api-access-thdvp", "projected": {"defaultMode": 420, "sources": [{"serviceAccountToken": {"expirationSeconds": 3607, "path": "token"}}, {"configMap": {"items": [{"key": "ca.crt", "path": "ca.crt"}], "name": "kube-root-ca.crt"}}, {"downwardAPI": {"items": [{"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}, "path": "namespace"}]}}]}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2021-07-01T03:27:28Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2021-07-07T14:25:04Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2021-07-07T14:25:04Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2021-07-01T03:27:28Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "docker://a9e4943c16943c8260fd58283aaa7291e627ebffa205ac9cd17d437f629a9393", "image": "fluxcd/flux:1.20.2", "imageID": "docker-pullable://fluxcd/flux@sha256:57dac3608bcb50dc0a42c5675f6b574e9068ae564332942160d894131f934d31", "lastState": {"terminated": {"containerID": "docker://95ede46185a36ab5eae397c5036dfd4a0da5955a2f56ce7b12b5108c44966db4", "exitCode": 255, "finishedAt": "2021-07-07T14:23:40Z", "reason": "Error", "startedAt": "2021-07-02T15:44:31Z"}}, "name": "flux", "ready": true, "restartCount": 2, "started": true, "state": {"running": {"startedAt": "2021-07-07T14:24:32Z"}}}], "hostIP": "45.32.124.125", "phase": "Running", "podIP": "10.244.0.63", "podIPs": [{"ip": "10.244.0.63"}], "qosClass": "Burstable", "startTime": "2021-07-01T03:27:28Z"}}]}

TASK [setup/flux : Get ssh known hosts] ****************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:31
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Helm repo add] **********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:39
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Install flux for over https connection] *********************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:47
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/flux : Install flux for over ssh connection] ***********************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:58
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [wait for pods to come up] ************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/flux/tasks/main.yaml:70
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Prepare nodes and clients ports for ambassador] **************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/kubernetes-env-setup.yaml:28
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.org1.example.com:7054', u'certificate': u'/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/org1.crt'}, u'gitops': {u'username': u'hungphamqs94', u'private_key': u'/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/gitops', u'git_protocol': u'https', u'chart_source': u'platforms/hyperledger-fabric/charts', u'git_url': u'https://github.com/hungphamqs94/blockchain-automation-framework.git', u'branch': u'main', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'password': u'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', u'email': u'cogangsekhongthua1994@gmail.com', u'git_repo': u'github.com/hungphamqs94/blockchain-automation-framework.git'}, u'cloud_provider': u'minikube', u'name': u'Org1', u'country': u'UK', u'org_status': u'new', u'external_url_suffix': u'org1.example.com', u'state': u'London', u'location': u'London', u'vault': {u'url': u'http://45.32.124.125:8200', u'root_token': u's.VQsR0ahXDL7CmiYcYf0k0wXe', u'secret_path': u'my-secrets'}, u'services': {u'consensus': {u'grpc': {u'port': 9092}, u'type': u'broker', u'name': u'kafka', u'replicas': 4}, u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=US/ST=New York/L=New York/O=Store/CN=ca.store-net'}, u'orderers': [{u'consensus': u'kafka', u'grpc': {u'port': 7050}, u'orderer': None, u'type': u'orderer', u'name': u'orderer1'}, {u'consensus': u'raft', u'grpc': {u'port': 7050}, u'orderer': None, u'type': u'orderer', u'name': u'orderer2'}]}, u'organization': None, u'k8s': {u'config_file': u'/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/config', u'context': u'kubernetes-admin@kubernetes'}, u'type': u'orderer', u'subject': u'O=Orderer,L=51.50/-0.13/London,C=GB'})  => {"ansible_loop_var": "organizationItem", "changed": false, "organizationItem": {"ca_data": {"certificate": "/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/org1.crt", "url": "ca.org1.example.com:7054"}, "cloud_provider": "minikube", "country": "UK", "external_url_suffix": "org1.example.com", "gitops": {"branch": "main", "chart_source": "platforms/hyperledger-fabric/charts", "email": "cogangsekhongthua1994@gmail.com", "git_protocol": "https", "git_repo": "github.com/hungphamqs94/blockchain-automation-framework.git", "git_url": "https://github.com/hungphamqs94/blockchain-automation-framework.git", "password": "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", "private_key": "/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "hungphamqs94"}, "k8s": {"config_file": "/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/config", "context": "kubernetes-admin@kubernetes"}, "location": "London", "name": "Org1", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=US/ST=New York/L=New York/O=Store/CN=ca.store-net", "type": "ca"}, "consensus": {"grpc": {"port": 9092}, "name": "kafka", "replicas": 4, "type": "broker"}, "orderers": [{"consensus": "kafka", "grpc": {"port": 7050}, "name": "orderer1", "orderer": null, "type": "orderer"}, {"consensus": "raft", "grpc": {"port": 7050}, "name": "orderer2", "orderer": null, "type": "orderer"}]}, "state": "London", "subject": "O=Orderer,L=51.50/-0.13/London,C=GB", "type": "orderer", "vault": {"root_token": "s.VQsR0ahXDL7CmiYcYf0k0wXe", "secret_path": "my-secrets", "url": "http://45.32.124.125:8200"}}, "skip_reason": "Conditional result was False"}

TASK [include_role : setup/ambassador] *****************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/kubernetes-env-setup.yaml:37
skipping: [localhost] => (item={u'ca_data': {u'url': u'ca.org1.example.com:7054', u'certificate': u'/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/org1.crt'}, u'gitops': {u'username': u'hungphamqs94', u'private_key': u'/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/gitops', u'git_protocol': u'https', u'chart_source': u'platforms/hyperledger-fabric/charts', u'git_url': u'https://github.com/hungphamqs94/blockchain-automation-framework.git', u'branch': u'main', u'release_dir': u'platforms/hyperledger-fabric/releases/dev', u'password': u'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', u'email': u'cogangsekhongthua1994@gmail.com', u'git_repo': u'github.com/hungphamqs94/blockchain-automation-framework.git'}, u'cloud_provider': u'minikube', u'name': u'Org1', u'country': u'UK', u'org_status': u'new', u'external_url_suffix': u'org1.example.com', u'state': u'London', u'location': u'London', u'vault': {u'url': u'http://45.32.124.125:8200', u'root_token': u's.VQsR0ahXDL7CmiYcYf0k0wXe', u'secret_path': u'my-secrets'}, u'services': {u'consensus': {u'grpc': {u'port': 9092}, u'type': u'broker', u'name': u'kafka', u'replicas': 4}, u'ca': {u'grpc': {u'port': 7054}, u'type': u'ca', u'name': u'ca', u'subject': u'/C=US/ST=New York/L=New York/O=Store/CN=ca.store-net'}, u'orderers': [{u'consensus': u'kafka', u'grpc': {u'port': 7050}, u'orderer': None, u'type': u'orderer', u'name': u'orderer1'}, {u'consensus': u'raft', u'grpc': {u'port': 7050}, u'orderer': None, u'type': u'orderer', u'name': u'orderer2'}]}, u'organization': None, u'k8s': {u'config_file': u'/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/config', u'context': u'kubernetes-admin@kubernetes'}, u'type': u'orderer', u'subject': u'O=Orderer,L=51.50/-0.13/London,C=GB'})  => {"ansible_loop_var": "item", "changed": false, "item": {"ca_data": {"certificate": "/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/org1.crt", "url": "ca.org1.example.com:7054"}, "cloud_provider": "minikube", "country": "UK", "external_url_suffix": "org1.example.com", "gitops": {"branch": "main", "chart_source": "platforms/hyperledger-fabric/charts", "email": "cogangsekhongthua1994@gmail.com", "git_protocol": "https", "git_repo": "github.com/hungphamqs94/blockchain-automation-framework.git", "git_url": "https://github.com/hungphamqs94/blockchain-automation-framework.git", "password": "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", "private_key": "/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/gitops", "release_dir": "platforms/hyperledger-fabric/releases/dev", "username": "hungphamqs94"}, "k8s": {"config_file": "/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/config", "context": "kubernetes-admin@kubernetes"}, "location": "London", "name": "Org1", "org_status": "new", "organization": null, "services": {"ca": {"grpc": {"port": 7054}, "name": "ca", "subject": "/C=US/ST=New York/L=New York/O=Store/CN=ca.store-net", "type": "ca"}, "consensus": {"grpc": {"port": 9092}, "name": "kafka", "replicas": 4, "type": "broker"}, "orderers": [{"consensus": "kafka", "grpc": {"port": 7050}, "name": "orderer1", "orderer": null, "type": "orderer"}, {"consensus": "raft", "grpc": {"port": 7050}, "name": "orderer2", "orderer": null, "type": "orderer"}]}, "state": "London", "subject": "O=Orderer,L=51.50/-0.13/London,C=GB", "type": "orderer", "vault": {"root_token": "s.VQsR0ahXDL7CmiYcYf0k0wXe", "secret_path": "my-secrets", "url": "http://45.32.124.125:8200"}}, "skip_reason": "Conditional result was False"}

TASK [include_role : setup/haproxy-ingress] ************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/kubernetes-env-setup.yaml:51

TASK [aws-cli : register temporary directory] **********************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:2
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : check aws cli] *************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:9
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : download aws cli] **********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : extract aws cli] ***********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:25
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:34
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : install aws cli] ***********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:44
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [aws-cli : configuring aws] ***********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-cli/tasks/main.yaml:52
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/aws-auth : register temporary directory] ***************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:2
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/aws-auth : check aws-authenticator] ********************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:9
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/aws-auth : create bin directory] ***********************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/aws-auth : Install aws-authenticator] ******************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/aws-auth/tasks/main.yaml:24
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : register temporary directory] *******************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:2
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0700", "owner": "root", "path": "/tmp/ansible._b1q35u9", "size": 4096, "state": "directory", "uid": 0}

TASK [setup/helm : check helm] *************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:9
ok: [localhost] => {"changed": false, "stat": {"atime": 1625732111.9615624, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 78864, "charset": "binary", "checksum": "9fb983829678b1159f74420b5007fbb5e13b3e6f", "ctime": 1625108947.8362136, "dev": 64513, "device_type": 0, "executable": true, "exists": true, "gid": 0, "gr_name": "root", "inode": 2061577, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "application/x-executable", "mode": "0755", "mtime": 1625108947.456213, "nlink": 1, "path": "/root/bin/helm", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 40378368, "uid": 0, "version": "2384026581", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": true, "xoth": true, "xusr": true}}

TASK [setup/helm : Install helm] ***********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Unzip helm archive] *****************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:27
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create bin directory] ****************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:37
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Move helm binaries] *****************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:47
skipping: [localhost] => (item=helm)  => {"ansible_loop_var": "bin_item", "bin_item": "helm", "changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/helm : Test helm installation] *************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/helm/tasks/main.yaml:58
ok: [localhost] => {"changed": false, "cmd": ["helm", "version", "--client", "--short"], "delta": "0:00:00.080966", "end": "2021-07-08 23:54:19.568983", "rc": 0, "start": "2021-07-08 23:54:19.488017", "stderr": "", "stderr_lines": [], "stdout": "v3.2.4+g0ad800e", "stdout_lines": ["v3.2.4+g0ad800e"]}

TASK [setup/haproxy-ingress : Check if haproxy is already installed] ***********
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/haproxy-ingress/tasks/main.yaml:3
ok: [localhost] => {"changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"creationTimestamp": "2021-07-01T03:27:50Z", "generateName": "haproxy-ingress-", "labels": {"controller-revision-hash": "58866ffc67", "pod-template-generation": "1", "run": "haproxy-ingress"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:controller-revision-hash": {}, "f:pod-template-generation": {}, "f:run": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"4a15f8b6-e8c7-4eab-9037-0e1994eb6f59\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:affinity": {".": {}, "f:nodeAffinity": {".": {}, "f:requiredDuringSchedulingIgnoredDuringExecution": {".": {}, "f:nodeSelectorTerms": {}}}}, "f:containers": {"k:{\"name\":\"haproxy-ingress\"}": {".": {}, "f:args": {}, "f:env": {".": {}, "k:{\"name\":\"POD_NAME\"}": {".": {}, "f:name": {}, "f:valueFrom": {".": {}, "f:fieldRef": {".": {}, "f:apiVersion": {}, "f:fieldPath": {}}}}, "k:{\"name\":\"POD_NAMESPACE\"}": {".": {}, "f:name": {}, "f:valueFrom": {".": {}, "f:fieldRef": {".": {}, "f:apiVersion": {}, "f:fieldPath": {}}}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":443,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:hostPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":5061,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:hostPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":80,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:hostPort": {}, "f:name": {}, "f:protocol": {}}}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:hostNetwork": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}, "f:tolerations": {}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2021-07-01T03:27:50Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"45.32.124.125\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2021-07-07T14:24:24Z"}], "name": "haproxy-ingress-n44wc", "namespace": "ingress-controller", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "DaemonSet", "name": "haproxy-ingress", "uid": "4a15f8b6-e8c7-4eab-9037-0e1994eb6f59"}], "resourceVersion": "738870", "uid": "c0c322f3-3436-4f86-bfef-340cf8a3ea9d"}, "spec": {"affinity": {"nodeAffinity": {"requiredDuringSchedulingIgnoredDuringExecution": {"nodeSelectorTerms": [{"matchFields": [{"key": "metadata.name", "operator": "In", "values": ["worker01"]}]}]}}}, "containers": [{"args": ["--default-backend-service=$(POD_NAMESPACE)/ingress-default-backend", "--configmap=$(POD_NAMESPACE)/haproxy-ingress", "--sort-backends"], "env": [{"name": "POD_NAME", "valueFrom": {"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.name"}}}, {"name": "POD_NAMESPACE", "valueFrom": {"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}}}], "image": "quay.io/jcmoraisjr/haproxy-ingress:v0.9.1", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/healthz", "port": 10253, "scheme": "HTTP"}, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "name": "haproxy-ingress", "ports": [{"containerPort": 80, "hostPort": 80, "name": "http", "protocol": "TCP"}, {"containerPort": 443, "hostPort": 443, "name": "https", "protocol": "TCP"}, {"containerPort": 5061, "hostPort": 5061, "name": "stat", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "kube-api-access-gtj8p", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "hostNetwork": true, "nodeName": "worker01", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "ingress-controller", "serviceAccountName": "ingress-controller", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists"}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists"}, {"effect": "NoSchedule", "key": "node.kubernetes.io/disk-pressure", "operator": "Exists"}, {"effect": "NoSchedule", "key": "node.kubernetes.io/memory-pressure", "operator": "Exists"}, {"effect": "NoSchedule", "key": "node.kubernetes.io/pid-pressure", "operator": "Exists"}, {"effect": "NoSchedule", "key": "node.kubernetes.io/unschedulable", "operator": "Exists"}, {"effect": "NoSchedule", "key": "node.kubernetes.io/network-unavailable", "operator": "Exists"}], "volumes": [{"name": "kube-api-access-gtj8p", "projected": {"defaultMode": 420, "sources": [{"serviceAccountToken": {"expirationSeconds": 3607, "path": "token"}}, {"configMap": {"items": [{"key": "ca.crt", "path": "ca.crt"}], "name": "kube-root-ca.crt"}}, {"downwardAPI": {"items": [{"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}, "path": "namespace"}]}}]}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2021-07-01T03:27:50Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2021-07-07T14:24:16Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2021-07-07T14:24:16Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2021-07-01T03:27:50Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "docker://bc6b5f046f6abd02bd1162c6f0cb29537a42ce3642da47b8430f7482e3f15e68", "image": "quay.io/jcmoraisjr/haproxy-ingress:v0.9.1", "imageID": "docker-pullable://quay.io/jcmoraisjr/haproxy-ingress@sha256:406705945c949a3efa9ad33cc21b3f643f45debeb0a54c61066a6c104e404d91", "lastState": {"terminated": {"containerID": "docker://850370238f0fb7ddab9e6eca8231373a813b6b36ddb86a59a81189363995fdf2", "exitCode": 2, "finishedAt": "2021-07-07T14:24:44Z", "reason": "Error", "startedAt": "2021-07-07T14:24:15Z"}}, "name": "haproxy-ingress", "ready": true, "restartCount": 4, "started": true, "state": {"running": {"startedAt": "2021-07-07T14:24:45Z"}}}], "hostIP": "45.32.124.125", "phase": "Running", "podIP": "45.32.124.125", "podIPs": [{"ip": "45.32.124.125"}], "qosClass": "BestEffort", "startTime": "2021-07-01T03:27:50Z"}}]}

TASK [setup/haproxy-ingress : Install HAProxy Ingress controller] **************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/haproxy-ingress/tasks/main.yaml:16
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/haproxy-ingress : Enable external DNS] *****************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/haproxy-ingress/tasks/main.yaml:25
changed: [localhost] => {"changed": true, "cmd": "KUBECONFIG=/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/build/config kubectl annotate service haproxy-ingress -n ingress-controller --overwrite \"external-dns.alpha.kubernetes.io/hostname=*.org1.example.com.\"\n", "delta": "0:00:00.226417", "end": "2021-07-08 23:54:21.346292", "rc": 0, "start": "2021-07-08 23:54:21.119875", "stderr": "", "stderr_lines": [], "stdout": "service/haproxy-ingress annotated", "stdout_lines": ["service/haproxy-ingress annotated"]}

TASK [setup/haproxy-ingress : Disable TLS1.0 for the AWS] **********************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/haproxy-ingress/tasks/main.yaml:34
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [wait for pods to come up] ************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/setup/haproxy-ingress/tasks/main.yaml:43

TASK [check/helm_component : Wait for Pod flux in ingress-controller] **********
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:5
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/helm_component : Check for {{ job_title }} job on {{ component_name }}] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [check/helm_component : Wait for Pod flux in ingress-controller] **********
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:36
ok: [localhost] => {"attempts": 1, "changed": false, "resources": [{"apiVersion": "v1", "kind": "Pod", "metadata": {"creationTimestamp": "2021-07-01T03:27:50Z", "generateName": "haproxy-ingress-", "labels": {"controller-revision-hash": "58866ffc67", "pod-template-generation": "1", "run": "haproxy-ingress"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:generateName": {}, "f:labels": {".": {}, "f:controller-revision-hash": {}, "f:pod-template-generation": {}, "f:run": {}}, "f:ownerReferences": {".": {}, "k:{\"uid\":\"4a15f8b6-e8c7-4eab-9037-0e1994eb6f59\"}": {".": {}, "f:apiVersion": {}, "f:blockOwnerDeletion": {}, "f:controller": {}, "f:kind": {}, "f:name": {}, "f:uid": {}}}}, "f:spec": {"f:affinity": {".": {}, "f:nodeAffinity": {".": {}, "f:requiredDuringSchedulingIgnoredDuringExecution": {".": {}, "f:nodeSelectorTerms": {}}}}, "f:containers": {"k:{\"name\":\"haproxy-ingress\"}": {".": {}, "f:args": {}, "f:env": {".": {}, "k:{\"name\":\"POD_NAME\"}": {".": {}, "f:name": {}, "f:valueFrom": {".": {}, "f:fieldRef": {".": {}, "f:apiVersion": {}, "f:fieldPath": {}}}}, "k:{\"name\":\"POD_NAMESPACE\"}": {".": {}, "f:name": {}, "f:valueFrom": {".": {}, "f:fieldRef": {".": {}, "f:apiVersion": {}, "f:fieldPath": {}}}}}, "f:image": {}, "f:imagePullPolicy": {}, "f:livenessProbe": {".": {}, "f:failureThreshold": {}, "f:httpGet": {".": {}, "f:path": {}, "f:port": {}, "f:scheme": {}}, "f:periodSeconds": {}, "f:successThreshold": {}, "f:timeoutSeconds": {}}, "f:name": {}, "f:ports": {".": {}, "k:{\"containerPort\":443,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:hostPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":5061,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:hostPort": {}, "f:name": {}, "f:protocol": {}}, "k:{\"containerPort\":80,\"protocol\":\"TCP\"}": {".": {}, "f:containerPort": {}, "f:hostPort": {}, "f:name": {}, "f:protocol": {}}}, "f:resources": {}, "f:terminationMessagePath": {}, "f:terminationMessagePolicy": {}}}, "f:dnsPolicy": {}, "f:enableServiceLinks": {}, "f:hostNetwork": {}, "f:restartPolicy": {}, "f:schedulerName": {}, "f:securityContext": {}, "f:serviceAccount": {}, "f:serviceAccountName": {}, "f:terminationGracePeriodSeconds": {}, "f:tolerations": {}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2021-07-01T03:27:50Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:status": {"f:conditions": {"k:{\"type\":\"ContainersReady\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Initialized\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}, "k:{\"type\":\"Ready\"}": {".": {}, "f:lastProbeTime": {}, "f:lastTransitionTime": {}, "f:status": {}, "f:type": {}}}, "f:containerStatuses": {}, "f:hostIP": {}, "f:phase": {}, "f:podIP": {}, "f:podIPs": {".": {}, "k:{\"ip\":\"45.32.124.125\"}": {".": {}, "f:ip": {}}}, "f:startTime": {}}}, "manager": "kubelet", "operation": "Update", "time": "2021-07-07T14:24:24Z"}], "name": "haproxy-ingress-n44wc", "namespace": "ingress-controller", "ownerReferences": [{"apiVersion": "apps/v1", "blockOwnerDeletion": true, "controller": true, "kind": "DaemonSet", "name": "haproxy-ingress", "uid": "4a15f8b6-e8c7-4eab-9037-0e1994eb6f59"}], "resourceVersion": "738870", "uid": "c0c322f3-3436-4f86-bfef-340cf8a3ea9d"}, "spec": {"affinity": {"nodeAffinity": {"requiredDuringSchedulingIgnoredDuringExecution": {"nodeSelectorTerms": [{"matchFields": [{"key": "metadata.name", "operator": "In", "values": ["worker01"]}]}]}}}, "containers": [{"args": ["--default-backend-service=$(POD_NAMESPACE)/ingress-default-backend", "--configmap=$(POD_NAMESPACE)/haproxy-ingress", "--sort-backends"], "env": [{"name": "POD_NAME", "valueFrom": {"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.name"}}}, {"name": "POD_NAMESPACE", "valueFrom": {"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}}}], "image": "quay.io/jcmoraisjr/haproxy-ingress:v0.9.1", "imagePullPolicy": "IfNotPresent", "livenessProbe": {"failureThreshold": 3, "httpGet": {"path": "/healthz", "port": 10253, "scheme": "HTTP"}, "periodSeconds": 10, "successThreshold": 1, "timeoutSeconds": 1}, "name": "haproxy-ingress", "ports": [{"containerPort": 80, "hostPort": 80, "name": "http", "protocol": "TCP"}, {"containerPort": 443, "hostPort": 443, "name": "https", "protocol": "TCP"}, {"containerPort": 5061, "hostPort": 5061, "name": "stat", "protocol": "TCP"}], "resources": {}, "terminationMessagePath": "/dev/termination-log", "terminationMessagePolicy": "File", "volumeMounts": [{"mountPath": "/var/run/secrets/kubernetes.io/serviceaccount", "name": "kube-api-access-gtj8p", "readOnly": true}]}], "dnsPolicy": "ClusterFirst", "enableServiceLinks": true, "hostNetwork": true, "nodeName": "worker01", "preemptionPolicy": "PreemptLowerPriority", "priority": 0, "restartPolicy": "Always", "schedulerName": "default-scheduler", "securityContext": {}, "serviceAccount": "ingress-controller", "serviceAccountName": "ingress-controller", "terminationGracePeriodSeconds": 30, "tolerations": [{"effect": "NoExecute", "key": "node.kubernetes.io/not-ready", "operator": "Exists"}, {"effect": "NoExecute", "key": "node.kubernetes.io/unreachable", "operator": "Exists"}, {"effect": "NoSchedule", "key": "node.kubernetes.io/disk-pressure", "operator": "Exists"}, {"effect": "NoSchedule", "key": "node.kubernetes.io/memory-pressure", "operator": "Exists"}, {"effect": "NoSchedule", "key": "node.kubernetes.io/pid-pressure", "operator": "Exists"}, {"effect": "NoSchedule", "key": "node.kubernetes.io/unschedulable", "operator": "Exists"}, {"effect": "NoSchedule", "key": "node.kubernetes.io/network-unavailable", "operator": "Exists"}], "volumes": [{"name": "kube-api-access-gtj8p", "projected": {"defaultMode": 420, "sources": [{"serviceAccountToken": {"expirationSeconds": 3607, "path": "token"}}, {"configMap": {"items": [{"key": "ca.crt", "path": "ca.crt"}], "name": "kube-root-ca.crt"}}, {"downwardAPI": {"items": [{"fieldRef": {"apiVersion": "v1", "fieldPath": "metadata.namespace"}, "path": "namespace"}]}}]}}]}, "status": {"conditions": [{"lastProbeTime": null, "lastTransitionTime": "2021-07-01T03:27:50Z", "status": "True", "type": "Initialized"}, {"lastProbeTime": null, "lastTransitionTime": "2021-07-07T14:24:16Z", "status": "True", "type": "Ready"}, {"lastProbeTime": null, "lastTransitionTime": "2021-07-07T14:24:16Z", "status": "True", "type": "ContainersReady"}, {"lastProbeTime": null, "lastTransitionTime": "2021-07-01T03:27:50Z", "status": "True", "type": "PodScheduled"}], "containerStatuses": [{"containerID": "docker://bc6b5f046f6abd02bd1162c6f0cb29537a42ce3642da47b8430f7482e3f15e68", "image": "quay.io/jcmoraisjr/haproxy-ingress:v0.9.1", "imageID": "docker-pullable://quay.io/jcmoraisjr/haproxy-ingress@sha256:406705945c949a3efa9ad33cc21b3f643f45debeb0a54c61066a6c104e404d91", "lastState": {"terminated": {"containerID": "docker://850370238f0fb7ddab9e6eca8231373a813b6b36ddb86a59a81189363995fdf2", "exitCode": 2, "finishedAt": "2021-07-07T14:24:44Z", "reason": "Error", "startedAt": "2021-07-07T14:24:15Z"}}, "name": "haproxy-ingress", "ready": true, "restartCount": 4, "started": true, "state": {"running": {"startedAt": "2021-07-07T14:24:45Z"}}}], "hostIP": "45.32.124.125", "phase": "Running", "podIP": "45.32.124.125", "podIPs": [{"ip": "45.32.124.125"}], "qosClass": "BestEffort", "startTime": "2021-07-01T03:27:50Z"}}]}
META: ran handlers
META: ran handlers

PLAY [ansible_provisioners] ****************************************************
META: ran handlers

TASK [Remove build directory] **************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/deploy-network.yaml:17
changed: [localhost] => {"changed": true, "path": "./build", "state": "absent"}

TASK [Create namespace and Vault auth for each organization] *******************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/deploy-network.yaml:23

TASK [Checking if the namespace org1-net already exists] ***********************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:6

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Check Namespace org1-net is created] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:7
ok: [localhost] => {"changed": false, "resources": [{"apiVersion": "v1", "kind": "Namespace", "metadata": {"creationTimestamp": "2021-07-01T03:58:09Z", "labels": {"kubernetes.io/metadata.name": "org1-net"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:labels": {".": {}, "f:kubernetes.io/metadata.name": {}}}}, "manager": "kubectl-create", "operation": "Update", "time": "2021-07-01T03:58:09Z"}], "name": "org1-net", "resourceVersion": "5863", "uid": "33bc39c2-c4b6-4f00-be56-52a8b15c0d5a"}, "spec": {"finalizers": ["kubernetes"]}, "status": {"phase": "Active"}}]}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for Namespace org1-net] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:17
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for Namespace org1-net] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:32
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for Namespace org1-net] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:45
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create/namespace_vaultauth : Set Variable] *******************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:17
ok: [localhost] => {"ansible_facts": {"get_namespace": {"changed": false, "failed": false, "resources": [{"apiVersion": "v1", "kind": "Namespace", "metadata": {"creationTimestamp": "2021-07-01T03:58:09Z", "labels": {"kubernetes.io/metadata.name": "org1-net"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:labels": {".": {}, "f:kubernetes.io/metadata.name": {}}}}, "manager": "kubectl-create", "operation": "Update", "time": "2021-07-01T03:58:09Z"}], "name": "org1-net", "resourceVersion": "5863", "uid": "33bc39c2-c4b6-4f00-be56-52a8b15c0d5a"}, "spec": {"finalizers": ["kubernetes"]}, "status": {"phase": "Active"}}]}}, "changed": false}

TASK [Create namespaces] *******************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:24
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Create vault reviewer service account for Organizations] *****************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:38
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Create vault auth service account for Organizations] *********************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:52
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Create clusterrolebinding for Ordrers] ***********************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:66
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Git Push] ****************************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:74

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/git_push : Check if directory: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../ exists] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/git_push/tasks/main.yaml:3
ok: [localhost] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../", "size": 4096, "state": "directory", "uid": 0}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/git_push : Execute git push for ssh] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/git_push/tasks/main.yaml:9
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/git_push : Execute git push for https] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/git_push/tasks/main.yaml:35
fatal: [localhost]: FAILED! => {"changed": true, "cmd": "cd \"/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../\"\necho \"---------------GIT PUSH---------------\"\ngit config user.email cogangsekhongthua1994@gmail.com\ngit config user.name hungphamqs94\ngit --git-dir=/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../..//.git add -A .\n\n# To ignore a directory add it add reset path\nreset_path=platforms/hyperledger-fabric/configuration\nif [ -n \"$reset_path\" ]; then\n    git --git-dir=/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../..//.git reset \"platforms/hyperledger-fabric/configuration\"\nfi  \n\ngit --git-dir=/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../..//.git commit -s -m \"[ci skip] Pushing deployment files for namespace, service accounts and clusterrolebinding\" || true\ngit --git-dir=/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../..//.git push https://hungphamqs94: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@github.com/hungphamqs94/blockchain-automation-framework.git HEAD:main\n", "delta": "0:00:01.328273", "end": "2021-07-08 23:54:27.302593", "msg": "non-zero return code", "rc": 128, "start": "2021-07-08 23:54:25.974320", "stderr": "remote: Permission to hungphamqs94/blockchain-automation-framework.git denied to hungphamqs94.\nfatal: unable to access 'https://hungphamqs94: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@github.com/hungphamqs94/blockchain-automation-framework.git/': The requested URL returned error: 403", "stderr_lines": ["remote: Permission to hungphamqs94/blockchain-automation-framework.git denied to hungphamqs94.", "fatal: unable to access 'https://hungphamqs94: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@github.com/hungphamqs94/blockchain-automation-framework.git/': The requested URL returned error: 403"], "stdout": "---------------GIT PUSH---------------\nUnstaged changes after reset:\nM\tplatforms/hyperledger-fabric/configuration/roles/create/configtx/templates/configtxOrg.tpl\nM\tplatforms/hyperledger-fabric/configuration/roles/create/configtx/templates/configtxProfile.tpl\nM\tplatforms/hyperledger-fabric/configuration/roles/create/crypto_script/templates/orderer_organisation_script.tpl\nM\tplatforms/hyperledger-fabric/configuration/roles/create/crypto_script/templates/orderer_script.tpl\nM\tplatforms/hyperledger-fabric/configuration/roles/create/crypto_script/templates/organisation_script.tpl\nM\tplatforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml\n[main 64924eb] [ci skip] Pushing deployment files for namespace, service accounts and clusterrolebinding\n 1 file changed, 464 insertions(+)\n create mode 100644 log.txt", "stdout_lines": ["---------------GIT PUSH---------------", "Unstaged changes after reset:", "M\tplatforms/hyperledger-fabric/configuration/roles/create/configtx/templates/configtxOrg.tpl", "M\tplatforms/hyperledger-fabric/configuration/roles/create/configtx/templates/configtxProfile.tpl", "M\tplatforms/hyperledger-fabric/configuration/roles/create/crypto_script/templates/orderer_organisation_script.tpl", "M\tplatforms/hyperledger-fabric/configuration/roles/create/crypto_script/templates/orderer_script.tpl", "M\tplatforms/hyperledger-fabric/configuration/roles/create/crypto_script/templates/organisation_script.tpl", "M\tplatforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml", "[main 64924eb] [ci skip] Pushing deployment files for namespace, service accounts and clusterrolebinding", " 1 file changed, 464 insertions(+)", " create mode 100644 log.txt"]}
...ignoring

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/git_push : Output for SSH gitpush] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/git_push/tasks/main.yaml:59
skipping: [localhost] => {}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/git_push : Error for SSH gitpush] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/git_push/tasks/main.yaml:68
skipping: [localhost] => {}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/git_push : Output for gitpush] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/git_push/tasks/main.yaml:78
ok: [localhost] => {
    "msg": [
        "---------------GIT PUSH---------------", 
        "Unstaged changes after reset:", 
        "M\tplatforms/hyperledger-fabric/configuration/roles/create/configtx/templates/configtxOrg.tpl", 
        "M\tplatforms/hyperledger-fabric/configuration/roles/create/configtx/templates/configtxProfile.tpl", 
        "M\tplatforms/hyperledger-fabric/configuration/roles/create/crypto_script/templates/orderer_organisation_script.tpl", 
        "M\tplatforms/hyperledger-fabric/configuration/roles/create/crypto_script/templates/orderer_script.tpl", 
        "M\tplatforms/hyperledger-fabric/configuration/roles/create/crypto_script/templates/organisation_script.tpl", 
        "M\tplatforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml", 
        "[main 64924eb] [ci skip] Pushing deployment files for namespace, service accounts and clusterrolebinding", 
        " 1 file changed, 464 insertions(+)", 
        " create mode 100644 log.txt"
    ]
}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/git_push : Error for git_push] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/git_push/tasks/main.yaml:86
ok: [localhost] => {
    "msg": [
        "remote: Permission to hungphamqs94/blockchain-automation-framework.git denied to hungphamqs94.", 
        "fatal: unable to access 'https://hungphamqs94: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@github.com/hungphamqs94/blockchain-automation-framework.git/': The requested URL returned error: 403"
    ]
}

TASK [Checking for the org1-net-role-tokenreview-binding] **********************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:86
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Including the check for ServiceAccount vault-reviewer in org1-net] *******
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:99

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Check ServiceAccount vault-reviewer is created] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:7
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for ServiceAccount vault-reviewer] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:17
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for ServiceAccount vault-reviewer] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:32
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for ServiceAccount vault-reviewer] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:45
ok: [localhost] => {"attempts": 1, "changed": false, "resources": [{"apiVersion": "v1", "kind": "ServiceAccount", "metadata": {"annotations": {"kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\":\"v1\",\"kind\":\"ServiceAccount\",\"metadata\":{\"annotations\":{},\"name\":\"vault-reviewer\",\"namespace\":\"org1-net\"}}\n"}, "creationTimestamp": "2021-07-01T03:58:17Z", "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:secrets": {".": {}, "k:{\"name\":\"vault-reviewer-token-6lq2w\"}": {".": {}, "f:name": {}}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2021-07-01T03:58:17Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:kubectl.kubernetes.io/last-applied-configuration": {}}}}, "manager": "kubectl-client-side-apply", "operation": "Update", "time": "2021-07-01T03:58:17Z"}], "name": "vault-reviewer", "namespace": "org1-net", "resourceVersion": "5880", "uid": "d368f1d1-26a6-4b7d-8fc5-aeae30593c07"}, "secrets": [{"name": "vault-reviewer-token-6lq2w"}]}]}

TASK [Including the check for ServiceAccount vault-auth in org1-net] ***********
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/namespace_vaultauth/tasks/main.yaml:111

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Check ServiceAccount vault-auth is created] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:7
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for ServiceAccount vault-auth] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:17
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for ServiceAccount vault-auth] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:32
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for ServiceAccount vault-auth] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:45
ok: [localhost] => {"attempts": 1, "changed": false, "resources": [{"apiVersion": "v1", "kind": "ServiceAccount", "metadata": {"annotations": {"kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\":\"v1\",\"kind\":\"ServiceAccount\",\"metadata\":{\"annotations\":{},\"name\":\"vault-auth\",\"namespace\":\"org1-net\"}}\n"}, "creationTimestamp": "2021-07-01T04:30:35Z", "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:secrets": {".": {}, "k:{\"name\":\"vault-auth-token-8fp76\"}": {".": {}, "f:name": {}}}}, "manager": "kube-controller-manager", "operation": "Update", "time": "2021-07-01T04:30:35Z"}, {"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:kubectl.kubernetes.io/last-applied-configuration": {}}}}, "manager": "kubectl-client-side-apply", "operation": "Update", "time": "2021-07-01T04:30:35Z"}], "name": "vault-auth", "namespace": "org1-net", "resourceVersion": "8469", "uid": "4a8fef0b-5b30-4618-83b7-cce6ebf0c68f"}, "secrets": [{"name": "vault-auth-token-8fp76"}]}]}

TASK [Setup Vault Kubernetes for each organization] ****************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/deploy-network.yaml:34

TASK [Waiting for the namespace org1-net to be created] ************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml:7

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Check Namespace org1-net is created] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:7
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for Namespace org1-net] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:17
ok: [localhost] => {"attempts": 1, "changed": false, "resources": [{"apiVersion": "v1", "kind": "Namespace", "metadata": {"creationTimestamp": "2021-07-01T03:58:09Z", "labels": {"kubernetes.io/metadata.name": "org1-net"}, "managedFields": [{"apiVersion": "v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:labels": {".": {}, "f:kubernetes.io/metadata.name": {}}}}, "manager": "kubectl-create", "operation": "Update", "time": "2021-07-01T03:58:09Z"}], "name": "org1-net", "resourceVersion": "5863", "uid": "33bc39c2-c4b6-4f00-be56-52a8b15c0d5a"}, "spec": {"finalizers": ["kubernetes"]}, "status": {"phase": "Active"}}]}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for Namespace org1-net] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:32
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for Namespace org1-net] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:45
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Creating the build directory] ********************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml:18

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : check if dir exists or not] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:3
ok: [localhost] => {"changed": false, "stat": {"exists": false}}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : Ensures dir exists] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:11
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "./build", "size": 4096, "state": "directory", "uid": 0}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : Check if Kubernetes-auth already created for Organization] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:20
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : Check if policy exists] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:30
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Checking if the vault path already exists] *******************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml:26

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : check if dir exists or not] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:3
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : Ensures dir exists] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:11
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : Check if Kubernetes-auth already created for Organization] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:20
changed: [localhost] => {"changed": true, "cmd": "vault auth list --format json | jq \"to_entries[] | select(.value.restricted|not) | .key\"\n", "delta": "0:00:00.185305", "end": "2021-07-08 23:54:33.521079", "rc": 0, "start": "2021-07-08 23:54:33.335774", "stderr": "", "stderr_lines": [], "stdout": "\"devorg1-net-auth/\"\n\"kubernetes/\"\n\"token/\"", "stdout_lines": ["\"devorg1-net-auth/\"", "\"kubernetes/\"", "\"token/\""]}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : Check if policy exists] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:30
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/vault_kubernetes : Set Variable] ***********************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml:32
ok: [localhost] => {"ansible_facts": {"auth_list": {"changed": true, "cmd": "vault auth list --format json | jq \"to_entries[] | select(.value.restricted|not) | .key\"\n", "delta": "0:00:00.185305", "end": "2021-07-08 23:54:33.521079", "failed": false, "rc": 0, "start": "2021-07-08 23:54:33.335774", "stderr": "", "stderr_lines": [], "stdout": "\"devorg1-net-auth/\"\n\"kubernetes/\"\n\"token/\"", "stdout_lines": ["\"devorg1-net-auth/\"", "\"kubernetes/\"", "\"token/\""]}}, "changed": false}

TASK [setup/vault_kubernetes : set_fact] ***************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml:37
ok: [localhost] => {"ansible_facts": {"component_auth_temp": "\"devorg1-net-auth/\"", "vault_auth_status": false}, "changed": false}

TASK [setup/vault_kubernetes : set_fact] ***************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml:42
ok: [localhost] => (item="devorg1-net-auth/") => {"ansible_facts": {"vault_auth_status": true}, "ansible_loop_var": "itemx", "changed": false, "itemx": "\"devorg1-net-auth/\""}
skipping: [localhost] => (item="kubernetes/")  => {"ansible_loop_var": "itemx", "changed": false, "itemx": "\"kubernetes/\"", "skip_reason": "Conditional result was False"}
skipping: [localhost] => (item="token/")  => {"ansible_loop_var": "itemx", "changed": false, "itemx": "\"token/\"", "skip_reason": "Conditional result was False"}

TASK [setup/vault_kubernetes : Enable and configure Kubernetes-auth for Organization] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml:52
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/vault_kubernetes : Get Kubernetes cert files for organizations] ****
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml:64
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/vault_kubernetes : Write reviewer token for Organisations] *********
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml:72
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Checking if the vault policies already exists] ***************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml:82

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : check if dir exists or not] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:3
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : Ensures dir exists] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:11
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : Check if Kubernetes-auth already created for Organization] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:20
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : Check if policy exists] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:30
changed: [localhost] => {"changed": true, "cmd": "vault policy read vault-crypto-orderer-org1-net-ro\n", "delta": "0:00:00.184605", "end": "2021-07-08 23:54:34.896767", "rc": 0, "start": "2021-07-08 23:54:34.712162", "stderr": "", "stderr_lines": [], "stdout": "path \"my-secrets/crypto/ordererOrganizations/org1-net/*\" {\n    capabilities = [\"read\", \"list\"]\n}\npath \"my-secrets/*\" {\n    capabilities = [\"list\"]\n}\npath \"my-secrets/crypto/peerOrganizations/*\" {\n    capabilities = [\"deny\"]\n}\npath \"my-secrets/credentials/org1-net/*\" {\n    capabilities = [\"read\", \"list\"]\n}", "stdout_lines": ["path \"my-secrets/crypto/ordererOrganizations/org1-net/*\" {", "    capabilities = [\"read\", \"list\"]", "}", "path \"my-secrets/*\" {", "    capabilities = [\"list\"]", "}", "path \"my-secrets/crypto/peerOrganizations/*\" {", "    capabilities = [\"deny\"]", "}", "path \"my-secrets/credentials/org1-net/*\" {", "    capabilities = [\"read\", \"list\"]", "}"]}

TASK [setup/vault_kubernetes : Create policy for Orderer Access Control] *******
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml:92
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/vault_kubernetes : Create policy for Organisations Access Control] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml:104
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/vault_kubernetes : Write Policy to Vault] **************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml:116
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [setup/vault_kubernetes : Create Vault auth role] *************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml:125
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Checking if the docker credentials already exists] ***********************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml:134

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : check if dir exists or not] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:3
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : Ensures dir exists] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:11
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : Check if Kubernetes-auth already created for Organization] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:20
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : Check if policy exists] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:30
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Create storageclass for each organization] *******************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/deploy-network.yaml:46

TASK [Checking if the storage class org1sc already exists] *********************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/storageclass/tasks/main.yaml:6

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Check StorageClass org1sc is created] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:7
ok: [localhost] => {"changed": false, "resources": [{"apiVersion": "storage.k8s.io/v1", "kind": "StorageClass", "metadata": {"annotations": {"kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\":\"storage.k8s.io/v1\",\"kind\":\"StorageClass\",\"metadata\":{\"annotations\":{},\"name\":\"org1sc\"},\"provisioner\":\"kubernetes.io/no-provisioner\",\"volumeBindingMode\":\"WaitForFirstConsumer\"}\n"}, "creationTimestamp": "2021-07-01T06:39:26Z", "managedFields": [{"apiVersion": "storage.k8s.io/v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:kubectl.kubernetes.io/last-applied-configuration": {}}}, "f:provisioner": {}, "f:reclaimPolicy": {}, "f:volumeBindingMode": {}}, "manager": "kubectl-client-side-apply", "operation": "Update", "time": "2021-07-01T06:39:26Z"}], "name": "org1sc", "resourceVersion": "18775", "uid": "6ea7e0ab-a9c9-4f0d-9fa6-91aa880040ce"}, "provisioner": "kubernetes.io/no-provisioner", "reclaimPolicy": "Delete", "volumeBindingMode": "WaitForFirstConsumer"}]}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for StorageClass org1sc] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:17
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for StorageClass org1sc] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:32
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/k8_component : Wait for StorageClass org1sc] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/k8_component/tasks/main.yaml:45
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create/storageclass : Set Variable] **************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/storageclass/tasks/main.yaml:14
ok: [localhost] => {"ansible_facts": {"get_sc": {"changed": false, "failed": false, "resources": [{"apiVersion": "storage.k8s.io/v1", "kind": "StorageClass", "metadata": {"annotations": {"kubectl.kubernetes.io/last-applied-configuration": "{\"apiVersion\":\"storage.k8s.io/v1\",\"kind\":\"StorageClass\",\"metadata\":{\"annotations\":{},\"name\":\"org1sc\"},\"provisioner\":\"kubernetes.io/no-provisioner\",\"volumeBindingMode\":\"WaitForFirstConsumer\"}\n"}, "creationTimestamp": "2021-07-01T06:39:26Z", "managedFields": [{"apiVersion": "storage.k8s.io/v1", "fieldsType": "FieldsV1", "fieldsV1": {"f:metadata": {"f:annotations": {".": {}, "f:kubectl.kubernetes.io/last-applied-configuration": {}}}, "f:provisioner": {}, "f:reclaimPolicy": {}, "f:volumeBindingMode": {}}, "manager": "kubectl-client-side-apply", "operation": "Update", "time": "2021-07-01T06:39:26Z"}], "name": "org1sc", "resourceVersion": "18775", "uid": "6ea7e0ab-a9c9-4f0d-9fa6-91aa880040ce"}, "provisioner": "kubernetes.io/no-provisioner", "reclaimPolicy": "Delete", "volumeBindingMode": "WaitForFirstConsumer"}]}}, "changed": false}

TASK [creating /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/releases/dev/org1/orderer directory] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/storageclass/tasks/main.yaml:19
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create/storageclass : Create Storage Class value file for orderers] ******
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/storageclass/tasks/main.yaml:29
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create/storageclass : Create Storage Class value file for Organizations] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/storageclass/tasks/main.yaml:41
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Git Push] ****************************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/storageclass/tasks/main.yaml:51
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Waiting for the creation of org1sc storage class] ************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/storageclass/tasks/main.yaml:64
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Create CA server for each organization] **********************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/deploy-network.yaml:57

TASK [create/ca-server : Check if ca certs already created] ********************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/ca-server/tasks/main.yaml:6
ok: [localhost] => {"changed": false, "cmd": "vault kv get -field=ca.org1-net-cert.pem my-secrets/crypto/ordererOrganizations/org1-net/ca\n", "delta": "0:00:00.155028", "end": "2021-07-08 23:54:38.135420", "rc": 0, "start": "2021-07-08 23:54:37.980392", "stderr": "", "stderr_lines": [], "stdout": "-----BEGIN CERTIFICATE-----\nMIIB+TCCAZ6gAwIBAgIUAnUJx5KmcL6K3M8+rhW+G3KfKx0wCgYIKoZIzj0EAwIw\nWjELMAkGA1UEBhMCVVMxETAPBgNVBAgMCE5ldyBZb3JrMREwDwYDVQQHDAhOZXcg\nWW9yazEOMAwGA1UECgwFU3RvcmUxFTATBgNVBAMMDGNhLnN0b3JlLW5ldDAeFw0y\nMTA3MDgwMTQ1MDZaFw0yNDA0MjcwMTQ1MDZaMFoxCzAJBgNVBAYTAlVTMREwDwYD\nVQQIDAhOZXcgWW9yazERMA8GA1UEBwwITmV3IFlvcmsxDjAMBgNVBAoMBVN0b3Jl\nMRUwEwYDVQQDDAxjYS5zdG9yZS1uZXQwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNC\nAARxmlSOw3ZxUGQ9JLfvHEUSCU6fE1tJ6EY3ozj5yYw45DSDkW7rZ0Z26pNAl2wS\nFvpWatJSba/F7TEEsNXl17BRo0IwQDAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB\n/wQEAwIBpjAdBgNVHQ4EFgQU5WUL0LiyteeXd5iSbG4WEIMPpQowCgYIKoZIzj0E\nAwIDSQAwRgIhAP9sa2VP+pA1RWi687XdiCPJEeNWjSENmjy/Jj/rvK8yAiEAy1rz\ngdbf5WydxX31YxFZpFDQL4hUyPrD4q/yvQBfp2Q=\n-----END CERTIFICATE-----", "stdout_lines": ["-----BEGIN CERTIFICATE-----", "MIIB+TCCAZ6gAwIBAgIUAnUJx5KmcL6K3M8+rhW+G3KfKx0wCgYIKoZIzj0EAwIw", "WjELMAkGA1UEBhMCVVMxETAPBgNVBAgMCE5ldyBZb3JrMREwDwYDVQQHDAhOZXcg", "WW9yazEOMAwGA1UECgwFU3RvcmUxFTATBgNVBAMMDGNhLnN0b3JlLW5ldDAeFw0y", "MTA3MDgwMTQ1MDZaFw0yNDA0MjcwMTQ1MDZaMFoxCzAJBgNVBAYTAlVTMREwDwYD", "VQQIDAhOZXcgWW9yazERMA8GA1UEBwwITmV3IFlvcmsxDjAMBgNVBAoMBVN0b3Jl", "MRUwEwYDVQQDDAxjYS5zdG9yZS1uZXQwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNC", "AARxmlSOw3ZxUGQ9JLfvHEUSCU6fE1tJ6EY3ozj5yYw45DSDkW7rZ0Z26pNAl2wS", "FvpWatJSba/F7TEEsNXl17BRo0IwQDAPBgNVHRMBAf8EBTADAQH/MA4GA1UdDwEB", "/wQEAwIBpjAdBgNVHQ4EFgQU5WUL0LiyteeXd5iSbG4WEIMPpQowCgYIKoZIzj0E", "AwIDSQAwRgIhAP9sa2VP+pA1RWi687XdiCPJEeNWjSENmjy/Jj/rvK8yAiEAy1rz", "gdbf5WydxX31YxFZpFDQL4hUyPrD4q/yvQBfp2Q=", "-----END CERTIFICATE-----"]}

TASK [creating the directory ./build/crypto-config/ordererOrganizations/org1-net/ca] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/ca-server/tasks/main.yaml:18

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : check if dir exists or not] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:3
ok: [localhost] => {"changed": false, "stat": {"exists": false}}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : Ensures dir exists] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:11
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "./build/crypto-config/ordererOrganizations/org1-net/ca", "size": 4096, "state": "directory", "uid": 0}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : Check if Kubernetes-auth already created for Organization] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:20
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/setup : Check if policy exists] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:30
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create/ca-server : Get ca certs and key] *********************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/ca-server/tasks/main.yaml:25
changed: [localhost] => {"changed": true, "cmd": "vault kv get -field=ca.org1-net-cert.pem my-secrets/crypto/ordererOrganizations/org1-net/ca > ca.org1-net-cert.pem\nmv ca.org1-net-cert.pem ./build/crypto-config/ordererOrganizations/org1-net/ca/\nvault kv get -field=org1-net-CA.key my-secrets/crypto/ordererOrganizations/org1-net/ca > org1-net-CA.key\nmv org1-net-CA.key ./build/crypto-config/ordererOrganizations/org1-net/ca/\n", "delta": "0:00:00.405885", "end": "2021-07-08 23:54:39.837352", "rc": 0, "start": "2021-07-08 23:54:39.431467", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}

TASK [create/ca-server : Check if the CA.key is already present] ***************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/ca-server/tasks/main.yaml:39
ok: [localhost] => {"changed": false, "stat": {"atime": 1625788479.613089, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 8, "charset": "us-ascii", "checksum": "00dd160d7a6b50b367a6af95305ddde796680b7a", "ctime": 1625788479.8290892, "dev": 64513, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 1024008, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "text/plain", "mode": "0644", "mtime": 1625788479.8290892, "nlink": 1, "path": "./build/crypto-config/ordererOrganizations/org1-net/ca/org1-net-CA.key", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 226, "uid": 0, "version": "2373203335", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": false, "xoth": false, "xusr": false}}

TASK [create/ca-server : Generate the CA certificate] **************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/ca-server/tasks/main.yaml:46
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create/ca-server : Copy the crypto material to Vault] ********************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/ca-server/tasks/main.yaml:55
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create/ca-server : Check if ca admin credentials already created] ********
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/ca-server/tasks/main.yaml:65
ok: [localhost] => {"changed": false, "cmd": "vault kv get my-secrets/credentials/org1-net/ca/org1\n", "delta": "0:00:00.170369", "end": "2021-07-08 23:54:40.867831", "rc": 0, "start": "2021-07-08 23:54:40.697462", "stderr": "", "stderr_lines": [], "stdout": "==== Data ====\nKey     Value\n---     -----\nuser    org1-adminpw", "stdout_lines": ["==== Data ====", "Key     Value", "---     -----", "user    org1-adminpw"]}

TASK [create/ca-server : Write the ca server admin credentials to Vault] *******
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/ca-server/tasks/main.yaml:77
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create/ca-server : Check Ambassador cred exists] *************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/ca-server/tasks/main.yaml:87
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [create/ca-server : Create the Ambassador credentials] ********************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/ca-server/tasks/main.yaml:100
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Create CA server values for Orderer] *************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/ca-server/tasks/main.yaml:109

TASK [helm_component : Ensures /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/releases/dev/org1/ca dir exists] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/helm_component/tasks/main.yaml:8
ok: [localhost] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/releases/dev/org1/ca", "size": 4096, "state": "directory", "uid": 0}

TASK [helm_component : create value file for org1-net] *************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/helm_component/tasks/main.yaml:17
ok: [localhost] => {"changed": false, "checksum": "992a19dc7a216c0d58f7503ddf7c546226b7f4a7", "dest": "/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/releases/dev/org1/ca/org1-net.yaml", "gid": 0, "group": "root", "mode": "0644", "owner": "root", "path": "/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/releases/dev/org1/ca/org1-net.yaml", "size": 1366, "state": "file", "uid": 0}

TASK [Helm lint] ***************************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/helm_component/tasks/main.yaml:26

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/helm_lint : Check if value file exists] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/helm_lint/tasks/main.yaml:10
ok: [localhost] => {"changed": false, "stat": {"atime": 1625732153.6568758, "attr_flags": "e", "attributes": ["extents"], "block_size": 4096, "blocks": 8, "charset": "us-ascii", "checksum": "992a19dc7a216c0d58f7503ddf7c546226b7f4a7", "ctime": 1625121605.0959322, "dev": 64513, "device_type": 0, "executable": false, "exists": true, "gid": 0, "gr_name": "root", "inode": 6153572, "isblk": false, "ischr": false, "isdir": false, "isfifo": false, "isgid": false, "islnk": false, "isreg": true, "issock": false, "isuid": false, "mimetype": "text/plain", "mode": "0644", "mtime": 1625121604.8039312, "nlink": 1, "path": "/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/releases/dev/org1/ca/org1-net.yaml", "pw_name": "root", "readable": true, "rgrp": true, "roth": true, "rusr": true, "size": 1366, "uid": 0, "version": "627021454", "wgrp": false, "woth": false, "writeable": true, "wusr": true, "xgrp": false, "xoth": false, "xusr": false}}

TASK [Check or create test directory] ******************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/helm_lint/tasks/main.yaml:16

TASK [../../shared/configuration/roles/check/setup : check if dir exists or not] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:3
ok: [localhost] => {"changed": false, "stat": {"exists": false}}

TASK [../../shared/configuration/roles/check/setup : Ensures dir exists] *******
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:11
changed: [localhost] => {"changed": true, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "./build/test", "size": 4096, "state": "directory", "uid": 0}

TASK [../../shared/configuration/roles/check/setup : Check if Kubernetes-auth already created for Organization] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:20
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [../../shared/configuration/roles/check/setup : Check if policy exists] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/setup/tasks/main.yaml:30
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/helm_lint : Load file into memory] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/helm_lint/tasks/main.yaml:25
ok: [localhost] => {"ansible_facts": {"apiVersion": "helm.fluxcd.io/v1", "kind": "HelmRelease", "metadata": {"annotations": {"fluxcd.io/automated": "false"}, "name": "org1-net-ca", "namespace": "org1-net"}, "spec": {"chart": {"git": "https://github.com/hungphamqs94/blockchain-automation-framework.git", "path": "platforms/hyperledger-fabric/charts/ca", "ref": "main"}, "releaseName": "org1-net-ca", "values": {"annotations": {"pvc": null, "service": [{"example1": "example2"}]}, "deployment": {"annotations": null}, "metadata": {"images": {"alpineutils": "index.docker.io/hyperledgerlabs/alpine-utils:1.0", "ca": "hyperledger/fabric-ca:1.4.8"}, "namespace": "org1-net"}, "proxy": {"external_url_suffix": "org1.example.com", "provider": "haproxy", "type": "orderer"}, "server": {"admin": "org1-admin", "name": "ca", "tlsstatus": true}, "service": {"ports": {"tcp": {"port": 7054}}, "servicetype": "ClusterIP"}, "storage": {"storageclassname": "org1sc", "storagesize": "512Mi"}, "vault": {"address": "http://45.32.124.125:8200", "authpath": "devorg1-net-auth", "imagesecretname": "regcred", "role": "vault-role", "secretadminpass": "my-secrets/credentials/org1-net/ca/org1?user", "secretcert": "my-secrets/crypto/ordererOrganizations/org1-net/ca?ca.org1-net-cert.pem", "secretkey": "my-secrets/crypto/ordererOrganizations/org1-net/ca?org1-net-CA.key", "serviceaccountname": "vault-auth"}}}}, "ansible_included_var_files": ["/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/releases/dev/org1/ca/org1-net.yaml"], "changed": false}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/helm_lint : Create value file] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/helm_lint/tasks/main.yaml:30
changed: [localhost] => {"changed": true, "checksum": "d8837cb237b48290d996d4566986cf52d207551d", "dest": "./build/test/org1-net-ca.yaml", "gid": 0, "group": "root", "md5sum": "68e60933645f7989b3d5ba0e10e652a0", "mode": "0644", "owner": "root", "size": 951, "src": "/root/.ansible/tmp/ansible-tmp-1625788483.6-7878-157457163749195/source", "state": "file", "uid": 0}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/helm_lint : Run helm lint] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/helm_lint/tasks/main.yaml:35
changed: [localhost] => {"changed": true, "cmd": "helm lint -f \"./build/test/org1-net-ca.yaml\" \"/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/charts/ca\"\n", "delta": "0:00:00.101464", "end": "2021-07-08 23:54:44.780214", "rc": 0, "start": "2021-07-08 23:54:44.678750", "stderr": "coalesce.go:196: warning: cannot overwrite table with non table for service (map[])\ncoalesce.go:196: warning: cannot overwrite table with non table for service (map[])", "stderr_lines": ["coalesce.go:196: warning: cannot overwrite table with non table for service (map[])", "coalesce.go:196: warning: cannot overwrite table with non table for service (map[])"], "stdout": "==> Linting /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/charts/ca\n[INFO] Chart.yaml: icon is recommended\n\n1 chart(s) linted, 0 chart(s) failed", "stdout_lines": ["==> Linting /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../platforms/hyperledger-fabric/charts/ca", "[INFO] Chart.yaml: icon is recommended", "", "1 chart(s) linted, 0 chart(s) failed"]}

TASK [Create CA server values organizations] ***********************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/ca-server/tasks/main.yaml:125
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [Git Push] ****************************************************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/ca-server/tasks/main.yaml:140

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/git_push : Check if directory: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../ exists] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/git_push/tasks/main.yaml:3
ok: [localhost] => {"changed": false, "gid": 0, "group": "root", "mode": "0755", "owner": "root", "path": "/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../", "size": 4096, "state": "directory", "uid": 0}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/git_push : Execute git push for ssh] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/git_push/tasks/main.yaml:9
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/git_push : Execute git push for https] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/git_push/tasks/main.yaml:35
fatal: [localhost]: FAILED! => {"changed": true, "cmd": "cd \"/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../../\"\necho \"---------------GIT PUSH---------------\"\ngit config user.email cogangsekhongthua1994@gmail.com\ngit config user.name hungphamqs94\ngit --git-dir=/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../..//.git add -A .\n\n# To ignore a directory add it add reset path\nreset_path=platforms/hyperledger-fabric/configuration\nif [ -n \"$reset_path\" ]; then\n    git --git-dir=/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../..//.git reset \"platforms/hyperledger-fabric/configuration\"\nfi  \n\ngit --git-dir=/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../..//.git commit -s -m \"[ci skip] Pushing CA server files\" || true\ngit --git-dir=/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../..//.git push https://hungphamqs94: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@github.com/hungphamqs94/blockchain-automation-framework.git HEAD:main\n", "delta": "0:00:01.271562", "end": "2021-07-08 23:54:47.045585", "msg": "non-zero return code", "rc": 128, "start": "2021-07-08 23:54:45.774023", "stderr": "remote: Permission to hungphamqs94/blockchain-automation-framework.git denied to hungphamqs94.\nfatal: unable to access 'https://hungphamqs94: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@github.com/hungphamqs94/blockchain-automation-framework.git/': The requested URL returned error: 403", "stderr_lines": ["remote: Permission to hungphamqs94/blockchain-automation-framework.git denied to hungphamqs94.", "fatal: unable to access 'https://hungphamqs94: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@github.com/hungphamqs94/blockchain-automation-framework.git/': The requested URL returned error: 403"], "stdout": "---------------GIT PUSH---------------\nUnstaged changes after reset:\nM\tplatforms/hyperledger-fabric/configuration/roles/create/configtx/templates/configtxOrg.tpl\nM\tplatforms/hyperledger-fabric/configuration/roles/create/configtx/templates/configtxProfile.tpl\nM\tplatforms/hyperledger-fabric/configuration/roles/create/crypto_script/templates/orderer_organisation_script.tpl\nM\tplatforms/hyperledger-fabric/configuration/roles/create/crypto_script/templates/orderer_script.tpl\nM\tplatforms/hyperledger-fabric/configuration/roles/create/crypto_script/templates/organisation_script.tpl\nM\tplatforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml\n[main d845680] [ci skip] Pushing CA server files\n 1 file changed, 390 insertions(+)", "stdout_lines": ["---------------GIT PUSH---------------", "Unstaged changes after reset:", "M\tplatforms/hyperledger-fabric/configuration/roles/create/configtx/templates/configtxOrg.tpl", "M\tplatforms/hyperledger-fabric/configuration/roles/create/configtx/templates/configtxProfile.tpl", "M\tplatforms/hyperledger-fabric/configuration/roles/create/crypto_script/templates/orderer_organisation_script.tpl", "M\tplatforms/hyperledger-fabric/configuration/roles/create/crypto_script/templates/orderer_script.tpl", "M\tplatforms/hyperledger-fabric/configuration/roles/create/crypto_script/templates/organisation_script.tpl", "M\tplatforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml", "[main d845680] [ci skip] Pushing CA server files", " 1 file changed, 390 insertions(+)"]}
...ignoring

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/git_push : Output for SSH gitpush] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/git_push/tasks/main.yaml:59
skipping: [localhost] => {}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/git_push : Error for SSH gitpush] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/git_push/tasks/main.yaml:68
skipping: [localhost] => {}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/git_push : Output for gitpush] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/git_push/tasks/main.yaml:78
ok: [localhost] => {
    "msg": [
        "---------------GIT PUSH---------------", 
        "Unstaged changes after reset:", 
        "M\tplatforms/hyperledger-fabric/configuration/roles/create/configtx/templates/configtxOrg.tpl", 
        "M\tplatforms/hyperledger-fabric/configuration/roles/create/configtx/templates/configtxProfile.tpl", 
        "M\tplatforms/hyperledger-fabric/configuration/roles/create/crypto_script/templates/orderer_organisation_script.tpl", 
        "M\tplatforms/hyperledger-fabric/configuration/roles/create/crypto_script/templates/orderer_script.tpl", 
        "M\tplatforms/hyperledger-fabric/configuration/roles/create/crypto_script/templates/organisation_script.tpl", 
        "M\tplatforms/hyperledger-fabric/configuration/roles/setup/vault_kubernetes/tasks/main.yaml", 
        "[main d845680] [ci skip] Pushing CA server files", 
        " 1 file changed, 390 insertions(+)"
    ]
}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/git_push : Error for git_push] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/git_push/tasks/main.yaml:86
ok: [localhost] => {
    "msg": [
        "remote: Permission to hungphamqs94/blockchain-automation-framework.git denied to hungphamqs94.", 
        "fatal: unable to access 'https://hungphamqs94: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@github.com/hungphamqs94/blockchain-automation-framework.git/': The requested URL returned error: 403"
    ]
}

TASK [Create CA tools for each organization] ***********************************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/deploy-network.yaml:75

TASK [waiting for the CA server to be created in org1-net] *********************
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/roles/create/ca-tools/tasks/main.yaml:6

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/helm_component : Wait for Pod ca in org1-net] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:5
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/helm_component : Check for {{ job_title }} job on {{ component_name }}] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:22
skipping: [localhost] => {"changed": false, "skip_reason": "Conditional result was False"}

TASK [/home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/hyperledger-fabric/configuration/../../shared/configuration/roles/check/helm_component : Wait for Pod ca in org1-net] ***
task path: /home/tiennguyen/projects/hyperledger/blockchain-automation-framework/platforms/shared/configuration/roles/check/helm_component/tasks/main.yaml:36
FAILED - RETRYING: Wait for Pod ca in org1-net (33 retries left).
FAILED - RETRYING: Wait for Pod ca in org1-net (32 retries left).
FAILED - RETRYING: Wait for Pod ca in org1-net (31 retries left).
FAILED - RETRYING: Wait for Pod ca in org1-net (30 retries left).
FAILED - RETRYING: Wait for Pod ca in org1-net (29 retries left).
